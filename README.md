# PZEventDoc
PZEventDoc is a tool for generating Lua annotations for Project Zomboid events and hooks to allow for autocompletion, type checking and easy access to documentation.
![Autocompletion for Events](/images/1.png)
![Annotation for Events](/images/2.png)
![Parameter types for Events](/images/3.png)

---
## Library Usage
If you are a modder, download the `Events.lua` file for your game version from [Releases](../../releases/) and add them as a library to your IDE. The `Events-deprecated.lua` file contains events that aren't actually used by the game anymore, but still exist in some form. For most modders this file is not needed. Place your downloaded file(s) into their own folder and read-on for IDE specific instructions:

##### Candle/Capsid users
If you're already using libraries generated by [Candle](https://github.com/asledgehammer/Candle) or [Capsid](https://github.com/Konijima/PZ-Libraries), you can drop your downloaded files into their directories instead and ignore the rest of these steps.

### IntelliJ IDEA
PZEventDoc's annotations are designed for the [EmmyLua plugin](https://plugins.jetbrains.com/plugin/9768-emmylua). To add a library, open `Project Structure` (`Ctrl-Alt-Shift-S` by default), go to `Global Libraries`, click the top left plus sign to add a new library, select `Lua Zip Library`, and select the folder you placed the files in. Every time you start a new project, navigate to this screen, right click the library you created, and select `Add to Modules...` to load the library for that project.

### Visual Studio Code
PZEventDoc's annotations have been tested with the [Lua language server plugin](https://marketplace.visualstudio.com/items?itemName=sumneko.lua). To load PZEventDoc as a library, open the extension's settings, look for `Lua â€º Workspace: Library`, click Add Item and type/paste the full path to the folder you placed the files in.

---
## Script Usage
For those interested in generating their own documentation, you can copy the format from the provided schema.json. When running the script from the command line, you can pass several command line options:
| Option | Arguments | Effect |
| --- | --- | --- |
| -d | None | Deprecated events will be included in the generated file |
| -D | None | The generated file will only contain deprecated events |
| -s | File path ending in ".json" | The JSON schema file to generate from |
| -o | File path ending in ".lua" | The Lua file to write to. Any existing file will be overwritten. |
